<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<div>
	A<input type="checkbox" onclick="checkAll()" id="all">
	1<input type="checkbox" class="r1" onclick="f2()">
	2<input type="checkbox" class="r1" onclick="f2()">
	3<input type="checkbox" class="r1" onclick="f2()" >
	
</div>



<script type="text/javascript">
	var r1 = document.getElementsByClassName("r1");
	var a =  document.getElementById("all");
	var c1 = r1[1];
	var c2 = r1[2];
	var c3 = r1[3];
	
	function checkAll(){ //A를 클릭했을때
		
		if(a.checked){
			for(var i=0;i<r1.length;i++){
				r1[i].checked="checked";
			}
		}else if(!a.checked){
			for(var i=0;i<r1.length;i++){
				r1[i].checked="";
			}
		}
	
	}
	function f2(){ //1~3 클릭했을때
		var result=true;
		for(var i=0;i<r1.length;i++){
			if(!r1[i].checked)
				result=false;
		}
		
		a.checked=result;
		
	}
	
	
</script>

</body>
</html>